<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume</title>
     <!-- --------------------------------Boostrap----------------------------------------- -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
     integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  
</head>
<style>
    .btn {
        width: 12%;
        padding: 10px;
    }

    .add {
        background-color: aliceblue;
        padding: 6px;
        width: 150%;
        border-radius: 6px;
        font-size: 16px;
    }
</style>

<body>

    <h1 class="text-center mb-3">Resume Details</h1>
    <div class="container bg-secondary-subtle p-5">
        <div class="row">
            <div class="col-lg-6 col-sm-12">
                <div class="row m-2">
                    <div class="col-3">
                        <h6><label for="inputPassword" class="col-form-label">Full Name</label></h6>
                    </div>
                    <div class="col-8">
                        <input type="text" class="form-control" id="name" onkeyup="add(this,'name',null)"
                            placeholder="Enter your name">
                    </div>
                </div>

                <!--------------------------------------------EMAIL ----------------------------------------->

                <div class="row m-2">
                    <div class="col-3">
                        <h6><label for="inputPassword" class="col-form-label">Email</label></h6>
                    </div>
                    <div class="col-8">
                        <input type="email" class="form-control" onkeyup="add(this,'email',null)" id="email"
                            placeholder="Enter your email">
                    </div>
                </div>

                   <!--------------------------------------------DTAE OF BIRTH ----------------------------------------->

                <div class="row m-2">
                    <div class="col-3">
                        <h6><label for="inputPassword" class="col-form-label">Date Of Birth</label></h6>
                    </div>
                    <div class="col-8">
                        <input type="date" class="form-control" onkeyup="add(this,'DOB',null)" id="dob" placeholder="">
                    </div>
                </div>

                <!------------------------------------------------GENDER --------------------------------------------->

                <div class="row m-2">
                    <div class="col-3">
                        <h6>Gender</h6>
                    </div>
                    <div class="col-8 d-flex">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" name="male" id="Gender" value = "Male" onclick="add(this,'Gender',null)">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Male
                            </label>
                        </div>
                        <div class="form-check ms-5">
                            <input class="form-check-input" type="radio" name="female" value="female" id = "Gender" onclick="add(this,'Gender',null)">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Female
                            </label>
                        </div>
                    </div>
                </div>

                <!--------------------------------------------- ADDRESS ----------------------------------------------->

                <div class="row m-2">
                    <div class="col-3">
                        <h6 class="mt-4"><label for="inputPassword" class="col-form-label">Objective</label></h6>
                    </div>
                    <div class="col-8 mt-4">
                        <textarea class="form-control" id="objective" rows="3" onkeyup="add(this,'Objective',null)"
                            placeholder="Enter your Objective"></textarea>
                    </div>
                </div>
                <!-- language -->
                <!-- <div class="row m-2 mt-3">
                    <div class="col-3">
                        <h6 class="mt-4">Language </h6>
                    </div>
                    <div class="col-8 d-flex">
                        <div class="row mt-4">
                            <div class="col-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="Language_known" value="Tamil"
                                     onclick="add(this,'Language_known',null)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Tamil
                                    </label>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-check ms-2">
                                    <input class="form-check-input" type="checkbox" id="Language_known" value="English" onclick="add(this,'Language_known',null)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        English
                                    </label>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="Language_known"
                                    value="Hindi" onclick="add(this,'Language_known',null)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Hindi
                                    </label>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-check mt-3">
                                    <input class="form-check-input" type="checkbox" id="english" value="Language_known" onclick="add(this,'Language_known',null)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Malyalam
                                    </label>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-check mt-3 ms-2">
                                    <input class="form-check-input" type="checkbox" id="Language_known" value="others" onclick="add(this,'Language_known',null)">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Others
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                
 -->
                <!------------------------------------------ Language known -------------------------------------->
               
               
                <div class="row m-2 mt-3">
                    <h6 class="mt-2 mb-4">Language_known</h6>
                    <div class="col-lg-7 col-sm-12 mb-2">
                        <input type="text" id="Language_known" class="form-control" placeholder="Enter Language_known">
                    </div>
                    <div class="col-lg-2 col-sm-2">
                        <button class="Add" onclick="addArrayValue('Language_known')">Add</button>
                    </div>
                </div>

                <!-- skills -->

                <div class="row m-2 mt-3">
                    <h6 class="mt-2 mb-3">Skills</h6>
                    <div class="col-lg-7 col-sm-12 mb-2">
                        <input type="text" id="skills" class="form-control" placeholder="Enter Skills">
                    </div>
                    <div class="col-lg-2 col-sm-2">
                        <button class="Add" onclick="addArrayValue('skills')">Add</button>
                    </div>
                </div>

                <!-- -----------------------------------------------PROJECTS ------------------------------------------->
                
                
                <div class="row m-2 mt-3">
                    <h6 class="mb-4">Projects</h6>
                    <div class="col-3 ms-2 text-body-secondary">
                        <label for="inputPassword" class="col-form-label">Name</label>
                    </div>
                    <div class="col-8">
                        <input type="text" class="form-control" id="project_name" placeholder="Enter project name">
                    </div>
                    <div class="col-3 ms-2 mt-2 text-body-secondary">
                        <label for="inputPassword" class="col-form-label">Company</label>
                    </div>
                    <div class="col-8 mt-2">
                        <input type="text" class="form-control" id="company_name" placeholder="Enter company name">
                    </div>
                    <div class="col-3 ms-2 mt-2 text-body-secondary">
                        <label for="inputPassword" class="col-form-label">Duration</label>
                    </div>
                    <div class="col-3 mt-2">
                        <input type="number" min="0" max="5" class="form-control" id="Duration_4" placeholder="1">
                    </div>
                    <div class="row">
                    <div class="col-lg-2 col-sm-2 m-2">
                    <button onclick="addvalue('projects','project_name','company_name','Duration_4')"
                        class="Add">Add</button>
                        </div>
                </div>
                </div>

                <!-------------------------------------------- CERTIFICATION-------------------------------------- -->

                <div class="row m-2 mt-3">
                    <h6 class="mt-4 mb-3">Certification</h6>
                    <div class="col-lg-5 col-sm-12 mt-2">
                        <input type="text" id="course_name1" class="form-control" placeholder="course_name">
                    </div>
                    <div class="col-lg-5 col-sm-12 mt-2">
                        <input type="text" id="acadamey_name1" class="form-control" placeholder="acadamey name">
                    </div>
                    <div class="col-lg-5 col-sm-12 mt-2">
                        <input type="text" id="year_2" class="form-control" placeholder="year">
                    </div>
                    <div class="col-lg-5 col-sm-12 mt-2 mb-2">
                        <input type="number" id="duration_2" class="form-control" placeholder="Duration">
                    </div>
                </div>
                    <div class="col-lg-1 col-sm-2 ms-3 mb-4">
                        <button onclick="addvalue('certification','course_name1','acadamey_name1','year_2','duration_2')"
                            class="Add">Add</button>
                </div>
            </div>


            <!------------------------------------------------ Side Page Starting ------------------------------------------->

            <!------------------------------------------------ PERSONAL DETAILS ------------------------------------------->


            <div class="col-lg-6 col-sm-12">
                <h5 class="mt-2">Personal Details:</h5>
                <div class="row m-2 mt-3">
                    <div class="col-4 mt-3 mb-3">
                        <label for="inputPassword" class="form-label">Father_Name</label>
                    </div>
                    <div class="col-8 mt-3 mb-3">
                        <input type="text" class="form-control" id="father_name" placeholder="Enter Your Father Name"
                            onkeyup="add(this,'father_Name','personal_details')">
                    </div>
                </div>
                <div class="row m-2">
                    <div class="col-4 mt-2 mb-3">
                        <label for="inputPassword" class="col-form-label">Mother Name</label>
                    </div>
                    <div class="col-8 mt-2 mb-3">
                        <input type="text" class="form-control" id="mother_name" placeholder="Enter Your Mother Name"
                            onkeyup="add(this,'mother_name','personal_details')">
                    </div>
                </div>


                <div class="row m-2">
                    <div class="col-4 mt-2">
                        <label for="inputPassword" class="col-form-label">Father number</label>
                    </div>
                    <div class="col-8 mt-2">
                        <input type="number" class="form-control" id="contact_number" placeholder="Enter Father number"
                            onkeyup="add(this,'Phone_number','personal_details')">
                    </div>
                </div>

                <div class="row m-2">
                    <div class="col-4 mt-4">
                        <label for="inputPassword" class="col-form-label">Address</label>
                    </div>
                    <div class="col-8 mt-4">
                        <textarea class="form-control" id="adderss" rows="4" placeholder="Enter your Address"
                            onkeyup="add(this,'Adderss','personal_details')"></textarea>
                    </div>
                </div>

                <!-------------------------------------------- MARITAL STATUS -------------------------------------------->

                <div class="row m-2">
                    <div class="col-4 mt-4">
                        <p>Marital Status</p>
                    </div>
                    <div class="col-8 d-flex mt-4">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="Marital_Status" value="Single" onclick="add(this,'Marital_Status',null)">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Single
                            </label>
                        </div>
                        <div class="form-check ms-5">
                            <input class="form-check-input" type="radio" id="Marital_Status" value="Married" onclick="add(this,'Marital_Status',null)">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Married
                            </label>
                        </div>
                    </div>
                </div>

                <!------------------------------------------------- HOBBIES ----------------------------------------------->

                <div class="row mt-3">
                    <h5 class="mb-4
                    ">Hobbies</h5>
                    <div class="col-lg-7 col-sm-12 mb-3 ms-4">
                        <input type="text" id="hobbies" class="form-control" placeholder="Enter Hobbies">
                    </div>
                    <div class="col-lg-2 col-sm-2">
                        <button class="Add" onclick="addArrayValue('hobbies')">Add</button>
                    </div>
                </div>


                <!----------------------------------------------- WORK EXPERIENCE -------------------------------------------->

                <h5 class="mt-4 mb-3">Work Experience</h5>
                <div class="row m-3 mt-4 mb-1">
                    <div class="col-4">
                        <label for="staticEmail" class="col-form-label">Company Name</label>
                    </div>
                    <div class="col-8 mb-3">
                        <input type="text" class="form-control" id="company_name_4" placeholder="Enter Company name">
                    </div>
                </div>
                <div class="m-3 row">
                    <div class="col-4 mb-3">
                        <label for="staticEmail" class="col-form-label">Designation</label>
                    </div>
                    <div class="col-8 mb-3">
                        <input type="text" class="form-control" id="Designation_4" placeholder="Enter Your Designaion">
                    </div>
                </div>
                <div class="m-3 row">
                    <div class="col-4 mb-3">
                        <label for="staticEmail" class="col-form-label">Years Of Experience</label>
                    </div>
                    <div class="col-3 mb-3">
                        <input type="number" class="form-control" min="0" max="10" id="yoe_3">
                    </div>
                </div>
                <div class="row m-3">
                    <div class="col-4">
                        <label for="staticEmail" class="col-form-label">Phone Number</label>
                    </div>
                    <div class="col-7">
                        <input type="number" class="form-control" id="mobile_number3">
                    </div>
                </div>
                <div class="col-lg-1 col-sm-2 m-4">
                    <button onclick="addvalue('workExperience','company_name_4','Designation_4','yoe_3','mobile_number3')"
                        class="Add">Add</button>
                </div>

            </div>
            <hr>


            <!------------------------------------------------------ COLUUMN CLOSED ------------------------------------->

            <!------------------------------------------------ ------EDUCATION ------------------------------------------>

            <div class="row m-2">
                <h6 class="mt-2 mb-4">Eduction</h6>
                <p class="text-body-secondary ms-3">Details:</p>
                <div class="col-lg-3 col-sm-12 mt-2">
                    <input type="text" id="course_name_1" class="form-control" placeholder="course name">
                </div>
                <div class="col-lg-3 col-sm-12 mt-2">
                    <input type="text" id="institude_name_1" class="form-control" placeholder="institude name">
                </div>
                <div class="col-lg-2 col-sm-12 mt-2">
                    <input type="number" id="year_1" class="form-control" placeholder="year">
                </div>
                <div class="col-lg-3 col-sm-12 mt-2 mb-2">
                    <input type="text" id="place_1" class="form-control" placeholder="Enter the place">
                </div>
                <div class="col-lg-1 col-sm-2 mt-2">
                    <button onclick="addvalue('course','course_name_1','institude_name_1','year_1','place_1')"
                        class="Add">Add</button>
                </div>

            </div>

            <!----------------------------------------Declare Check ------------------------------------------->
          
            <div class="form-check m-2 mb-4 mt-3">

                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                    I hereby declare is a phrase used to make a formal statement that the information provided is true
                    to the best of one's knowledge and belief.
                </label>
            </div>


            <!------------------------------------------------ BUTTON------------------------------------------->
           
           
            <button type="button" class="btn btn-primary btn-sm-12" id="submit">Submit</button>

            <section class="mt-4">
                <code id="output" class="fs-4"></code>
            </section>


            <!------------------------------------- SCRIPT FILE LINKED -------------------------------------------->

            
            <script type="module">
                let resume = {
                    personal_details: {},
                    Gender:[],
                    certification: [],
                    skills: [],
                    Marital_Status:[],
                    hobbies: [],
                    course: [],
                    Language_known : [],
                    workExperience: [],
                    projects:[]
                    
                }

                function add(e, key, p_key) {
                    if (p_key) {
                        resume[p_key][key] = e.value

                    } else {
                        resume[key] = e.value

                    }
                    display_output()
                }

                window.add = add

                function addArrayValue(key) {
                    let value = document.getElementById(key).value;
                    resume[key].push(value);
                    document.getElementById(key).value = "";
                    display_output();
                }

                window.addArrayValue= addArrayValue

                function addvalue(c_key,key1,key2,key3,key4) {
                    let newObj = {};
                    if(key4){
                    newObj[key1] = document.getElementById(key1).value;
                    newObj[key2] = document.getElementById(key2).value;
                    newObj[key3] = document.getElementById(key3).value;
                    newObj[key4] = document.getElementById(key4).value;
                    resume[c_key].push(newObj)
                    console.log(newObj)
                    document.getElementById(key1).value = "";
                    document.getElementById(key2).value = "";
                    document.getElementById(key3).value = "";
                    document.getElementById(key4).value = "";
                     }
                    else if(key3){
                    newObj[key1] = document.getElementById(key1).value;
                    newObj[key2] = document.getElementById(key2).value;
                    newObj[key3] = document.getElementById(key3).value;
                    resume[c_key].push(newObj)
                    console.log(newObj)
                    document.getElementById(key1).value = "";
                    document.getElementById(key2).value = "";
                    document.getElementById(key3).value = "";
                    }
                    display_output()
                }

                window.addvalue=addvalue

                function display_output() {
                    document.getElementById("output").innerHTML = JSON.stringify(resume)
                }

                // <---------------------------------------FireBase Link ------------------------------->


                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
                import { getDatabase, ref, set, get, child,push} from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";
                
                // const appSetting = {
                //     databaseURL : "https://resume-project-b1255-default-rtdb.firebaseio.com/",
                // };
 
                // Your web app's Firebase configuration
                const firebaseConfig = {
                    apiKey: "AIzaSyCixAsqF-OnKJfhlMB-2OMBWxyVL5mYZaU",
                    authDomain: "resume-project-b1255.firebaseapp.com",
                    projectId: "resume-project-b1255",
                    storageBucket: "resume-project-b1255.firebasestorage.app",
                    messagingSenderId: "310749836829",
                    appId: "1:310749836829:web:e830f1650d6cc746f7f8f4"
                };

                // Initialize Firebase
                const app = initializeApp(firebaseConfig);

                //   get ref to database services

                const db = getDatabase(app);
                const name = 'user/'

                const initialDb = ref(db,name)

                document.getElementById("submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    push(initialDb,
                        {
                            fullname: document.getElementById("name").value,
                            email: document.getElementById("email").value,
                            Dob: document.getElementById("dob").value,
                            Gender: document.getElementById('Gender').value,
                            Objective: document.getElementById("objective").value,
                            Education: JSON.stringify(resume.course),
                            personal_details : JSON.stringify(resume.personal_details),
                            projects: JSON.stringify(resume.projects),
                            hobbies:JSON.stringify(resume.hobbies),
                            Marital_Status:document.getElementById("Marital_Status").value,
                            Language_known:JSON.stringify(resume.Language_known),
                            workExperience:JSON.stringify(resume.workExperience),
                            certification:JSON.stringify(resume.certification),
                            projects:JSON.stringify(resume.projects)

                        })
                    alert("Submitted Successfully !")
                })

            </script>


</body>
</html>